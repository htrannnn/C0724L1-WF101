<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Quản lý sản phẩm</title>
		<link rel="stylesheet" href="../../bootstrap-5.1.3-dist/css/bootstrap.css" />
		<script src="../../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
		<style>
			body {
				font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
				margin: 20px;
			}
		</style>
	</head>
	<body>
		<h2>Product Management</h2>
		<h5>Add New Product</h5>
		<input id="product" placeholder="New Product" />
		<button onclick="addNewProduct()" class="btn btn-outline-danger btn-sm">Add Product</button>
		<br />
		<br />
		<h5>Display All Product</h5>
		<div id="result"></div>

		<script>
			let productList = ["Apple Iphone XS max", "Apple Iphone 11 Pro max", "Apple Iphone 12 Pro max"];
			displayProduct(productList, "result");

			function displayProduct(list) {
				let tableString = `<table class="table table-danger table-striped table-hover">
					<tr>
						<th>Product Name</th>
						<th>Edit</th>
						<th>Delete</th>
						<th id="quantity">Quantity</th>
					</tr>`;

				for (i = 0; i < list.length; i++) {
					tableString += `<tr>
						<td>${productList[i]}</td>
						<td><button onclick="editProduct(${i})" class="btn btn-light">Edit</button></td>
						<td><button onclick="deleteProduct(${i})" class="btn btn-light">Delete</button></td>
						<td></td>
					</tr>`;
				}
				tableString += `</table>`;
				document.getElementById("result").innerHTML = tableString;
				document.getElementById("quantity").innerHTML = `${productList.length} quantity`;
			}

			function addNewProduct(index) {
				let newProduct = document.getElementById("product").value;
				if (newProduct != "") {
					productList.push(newProduct);
				} else {
					alert("Empty product. Please enter product:");
				}
				displayProduct(productList);
			}

			function editProduct(index) {
				let editProduct = prompt(`Change product ${productList[index]} to:`);
				productList[index] = editProduct;
				displayProduct(productList);
			}

			function deleteProduct(index) {
				let deleteProduct = confirm(`Do you want to delete product ${productList[index]}`);
				if (deleteProduct) {
					productList.splice(index, 1);
				}
				displayProduct(productList);
			}
		</script>
	</body>
</html>
