<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Quản lý sản phẩm</title>
		<link rel="stylesheet" href="../../bootstrap-5.1.3-dist/css/bootstrap.css" />
		<script src="../../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
	</head>
	<body>
		<h2>Quản lý sản phẩm</h2>
		<h5>Add New Product</h5>
		<div class="input-group mb-3">
			<span class="input-group-text" id="inputGroup-sizing-default">Default</span>
			<input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" />
			<button onclick="addNewProduct()" class="btn btn-danger">Add</button>
		</div>
		<br />
		<br />
		<h5>Display All Product</h5>
		<div id="result"></div>

		<script>
			let productList = ["Apple Iphone 6s", "Apple Iphone 7 plus", "Apple Iphone 8 plus"];
			displayProduct(productList, "result");

			function displayProduct(list) {
				table = `<table class="table table-danger table-striped">
			             <tr>
			                <th>Product Name</th>
			                <th></th>
			                <th></th>
			             </tr>`;
				for (i = 0; i < list.length; i++) {
					table += `<tr>
			                    <td>${list[i]}</td>
			                    <td><button onclick="editProduct(${i})" class="btn btn-light">Edit</button></td>
			                    <td><button onclick="deleteProduct(${i})" class="btn btn-light">Delete</button></td>
			                  </tr>`;
				}
				table += `</table>`;
				document.getElementById("result").innerHTML = table;
			}

			function addNewProduct() {
				let newProduct = document.getElementById("product").value;
				if (newProduct != "") {
					productList.push(newProduct);
				} else {
					alert("Empty product. Please enter product");
				}
				displayProduct(productList);
				document.getElementById("product").value;
			}

			function editProduct(index) {
				let editProduct = prompt("Enter new product to change:");
				productList[index] = editProduct;
				displayProduct(productList);
			}

			function deleteProduct(index) {
				let deleteProduct = confirm(`Click OK to delete product ${productList[index]} ?`);
				if (deleteProduct) {
					productList.splice(index, 1);
				}
				displayProduct(productList);
			}
		</script>
	</body>
</html>
